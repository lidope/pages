for(var t,r=window.location.protocol+"//"+window.location.host+"/",c=r+"work/WechatApi/getAuthUser"+"?redirect_url="+encodeURIComponent(window.location.href),e=["192.168","file://","localhost","127.0.0.1"],d=0,o=0;o<e.length;o++)-1<r.indexOf(e[o])&&d++;function _(e){var o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(o);return null!=n?unescape(n[2]):null}d||document.write("<script src='https://wxshare.leaddevelop.net/wxShare.js'><\/script>"),document.body.addEventListener("touchstart",function(){});var h={globalData:{debug:!1,openShare:!1,openAuth:!1,share:{title:"",desc:"",link:r,imgUrl:""}},init:function(){var e=["192.168","file://","localhost","127.0.0.1"];if(-1<r.indexOf("leaddevelop.net"))h.globalData.debug=!1;else if(!h.globalData.debug)for(var o=0;o<e.length;o++)if(-1<r.indexOf(e[o])){h.globalData.debug=!0;break}function n(){this.events={}}h.globalData.openAuth&&!sessionStorage.getItem("closeWechatAuth")&&h.getUserAuth(),h.globalData.openShare&&!sessionStorage.getItem("closeWechatShare")&&h.getWechatShare(),"debug"===_("dev_mode")&&(new VConsole,h.globalData.debug=!0),n.prototype.addEventListener=function(e,o){"function"==typeof o&&(this.events[e]=o)},n.prototype.dispatchEvent=function(e,o){this.events[e](o)},t=new n},ajaxPost:function(o,e,n,t,a){a=0==a?0:1,e.v=(new Date).getTime();var s=sessionStorage.getItem("___baseUrl");if(s&&(r=s),-1==r.indexOf("http")||d)throw h.showMessage('<b style="color: firebrick;">失败原因:\nbaseUrl不能是本地路径</b>\n<i style="font-size: 20px; letter-spacing: 1.5px; ">Tips: 点击设置baseUrl直到页面关闭前生效</i>',function(){!function e(o){var n=prompt('请输入baseUrl，直到页面关闭前生效\n注意: baseUrl要以 "/" 结尾',o||"");null==n?h.showToast("手动取消baseUrl设置"):""==n?h.showModal("内容不能为空",function(){e()}):-1<n.indexOf("https")?"/"===n.substring(n.length-1)?(sessionStorage.setItem("___baseUrl",n),h.showModal("生效时间: 直到页面关闭前生效\nTips: 请重新调取接口",function(){},{title:"设置成功"})):h.showMessage('baseUrl要以 "<b>/</b>" 结尾',function(){e(n)},function(){},{title:"设置失败",confirmText:"重新设置",cancelText:"取消设置"}):h.showMessage('baseUrl请以 "<b>https</b> 或 <b>http</b>" 开头',function(){e(n)},function(){},{title:"设置失败",confirmText:"重新设置",cancelText:"取消设置"})}()},function(){},{title:"ajaxPost调取失败",confirmColor:"red",confirmText:"设置baseUrl"}),"致命错误: baseUrl不能是本地路径";var i={token:h.getSessionStorageToken(),client:"2"},l={url:r+o,type:e.ajaxPostType||"post",headers:i,data:e,dataType:"json",beforeSend:function(){1==a&&h.showLoading()},success:function(e){if(1==a&&h.hideLoading(),e.c)return h.hideLoading(),110==e.c?h.showModal("您尚未授权登录登录，请先授权登录!",function(){sessionStorage.clear(),window.location.href=c},{title:"操作失败"}):400==e.c?window.location.href=r:1e4==e.c?h.showModal(e.m,function(){localStorage.clear(),sessionStorage.clear(),location.replace(r)}):t?t(e):e.m?h.showModal(e.m):h.showModal("操作失败"),!1;n(e)},error:function(e){h.hideLoading(),h.globalData.debug||"debug"===_("dev_mode")?h.showModal("当前网络不稳定，请稍后再试~\n"+o):h.showModal("当前网络不稳定，请稍后再试~"),console.groupCollapsed("服务器返回错误"),console.log("└─状态码: "+e.status),console.log("└─接口: "+o),console.group("原因"),console.error(e.responseText),console.groupEnd(),console.groupEnd(),console.groupEnd()}};$.ajax(l)},getUserAuth:function(){h.getSessionStorageToken()?h.getFunDetail():_("token")?(h.setSessionStorageToken(_("token")),h.getFunDetail()):(sessionStorage.clear(),h.navigateTo(c))},getWechatShare:function(){setTimeout(function(){try{wx&&wxShare&&wxShare.init(h.globalData.share)}catch(e){h.getWechatShare()}},300)},getFunDetail:function(){try{window.onload=function(){return t.dispatchEvent("auth",{status:1,msg:"success",data:{token:h.getSessionStorageToken()}})}}catch(e){}},setSessionStorageToken:function(e){e&&sessionStorage.setItem("token",e||"")},getSessionStorageToken:function(){return sessionStorage.getItem("token")||""},navigateBack:function(e){!e&&history.go(-1)||history.go("-"+e)},navigateTo:function(e){e&&(location.href=e)},redirectTo:function(e){e&&location.replace(e)},showLoading:function(e){if($(".__lead_loading_block").length)return $(".__lead_loading_block .__lead_loading span").html(h.getLineFeedHtml(e||"加载中")),!1;var o='\n            <div class="__lead_loading_block __lead_transparent col items center">\n                <div class="__lead_loading __lead_smallBig_animate col items">\n                    <div class="__lead_icon_loading"></div>\n                    <span>'+((e=e&&h.getLineFeedHtml(e))||"加载中")+"</span>\n                </div>\n            </div>\n        ";$("body").append(o),setTimeout(function(){$(".__lead_loading").length&&$(".__lead_loading").addClass("showLeadLoading")},20),$(".__lead_loading_block").length&&$(".__lead_loading_block").on("touchmove",function(e){e.preventDefault()})},hideLoading:function(){$(".__lead_loading_block").length&&($(".__lead_loading").removeClass("showLeadLoading"),setTimeout(function(){$(".__lead_loading_block").remove()},250))},showMessage:function(e,n,t,o){e=e&&(e.constructor==Array||e.constructor==Object?JSON.stringify(e):this.getLineFeedHtml(e));var a='\n            <div class="__lead __lead_message_block col items center">\n                <div class="__lead_message __lead_smallBig_animate col items">\n                    <div class="__lead_message_title col items center">\n                        <span class="nowrap">'+(o&&o.title||"提示")+'</span>\n                    </div>\n                    <div class="__lead_message_content col items center">\n                        <span>'+(e||"")+'</span>\n                    </div>\n                    <div class="__lead_message_button row items center">\n                        <span class="flex_group_1 col items center" style="color: '+(o&&o.cancelColor||"#999")+'">'+(o&&o.cancelText||"取消")+'</span>\n                        <span class="flex_group_1 col items center" style="color: '+(o&&o.confirmColor||"#5f646e")+'">'+(o&&o.confirmText||"确定")+"</span>\n                    </div>\n                </div>\n            </div>\n        ";$(".__lead_mask").length||$("body").append('<div class="__lead_mask"></div>'),$("body").append(a),setTimeout(function(){if(1<$(".__lead_message").length)for(var e=$(".__lead_message"),o=0;o<e.length;o++)e.eq(o).hasClass(".showLeadMessage")||e.eq(o).addClass("showLeadMessage");else $(".__lead_message").length&&$(".__lead_message").addClass("showLeadMessage")},20),$(".__lead_message_block").length&&$(".__lead_message_block").on("touchmove",function(e){e.preventDefault()});var s=!0,i=$(".__lead_message_block"),l=i.eq(i.length-1).find(".__lead_message_button span");l.off("click"),l.on("click",function(){var o;s&&(s=!1,(o=$(this)).closest(".__lead_message").removeClass("showLeadMessage"),setTimeout(function(){var e=o.index();o.closest(".__lead_message_block").remove(),$(".__lead").length||$(".__lead_mask").remove(),s=!0,1==e&&n&&n("confirm"),0==e&&t&&t("cancel")},250))})},showCopyText:function(e,n,t,o){e=e&&(e.constructor==Array||e.constructor==Object?JSON.stringify(e):this.getLineFeedHtml(e));var a='\n            <div class="__lead __lead_message_copy col items center">\n                <div class="__lead_copy __lead_smallBig_animate col items">\n                    <div class="__lead_copy_title col items center">\n                        <span class="nowrap">'+(o&&o.title||"提示")+'</span>\n                    </div>\n                    <div class="__lead_copy_content col items center">\n                        <span>'+(e||"")+'</span>\n                    </div>\n                    <div class="__lead_copy_button row items center">\n                        <span class="flex_group_1 col items center" style="color: '+(o&&o.cancelColor||"#999")+'">'+(o&&o.cancelText||"取消")+'</span>\n                        <span class="flex_group_1 col items center" style="color: '+(o&&o.confirmColor||"#5f646e")+'">'+(o&&o.confirmText||"复制")+"</span>\n                    </div>\n                </div>\n            </div>\n        ";$(".__lead_mask").length||$("body").append('<div class="__lead_mask"></div>');var s=document.createElement("input");e=e.replace(/<\/br>/g," "),s.value=e,s.readOnly=!0,s.style.opacity=0,s.style.fontSize="20px",s.style.position="fixed",s.style.left="-9999999px",s.style.top="-999999px",$("body").append(a),$(".__lead_message_copy").append(s),setTimeout(function(){if(1<$(".__lead_copy").length)for(var e=$(".__lead_copy"),o=0;o<e.length;o++)e.eq(o).hasClass(".showLeadCopy")||e.eq(o).addClass("showLeadCopy");else $(".__lead_copy").length&&$(".__lead_copy").addClass("showLeadCopy")},20),$(".__lead_message_copy").length&&$(".__lead_message_copy").on("touchmove",function(e){e.preventDefault()});var i=!0;$(".__lead_copy_button span").click(function(){var e,o;i&&(i=!1,e=$(this),o=e.index(),e.closest(".__lead_copy").removeClass("showLeadCopy"),1==o&&(s.select(),s.setSelectionRange(0,s.value.length),document.execCommand("Copy")),setTimeout(function(){e.closest(".__lead_message_copy").remove(),$(".__lead").length||$(".__lead_mask").remove(),i=!0,1==o&&n&&n("confirm"),0==o&&t&&t("cancel")},250))})},showModal:function(e,o,n){e=e&&(e.constructor==Array||e.constructor==Object?JSON.stringify(e):this.getLineFeedHtml(e));var t='\n            <div class="__lead __lead_modal_block col items center">\n                <div class="__lead_modal __lead_smallBig_animate col items">\n                    <div class="__lead_modal_title col items center">\n                        <span class="nowrap">'+(n&&n.title||"提示")+'</span>\n                    </div>\n                    <div class="__lead_modal_content col items center">\n                        <span>'+(e||"")+'</span>\n                    </div>\n                    <div class="__lead_modal_button row items center">\n                        <span class="flex_group_1 col items center" style="color: '+(n&&n.confirmColor||"#5f646e")+'">'+(n&&n.confirmText||"确定")+"</span>\n                    </div>\n                </div>\n            </div>\n        ";$(".__lead_mask").length||$("body").append('<div class="__lead_mask"></div>'),$("body").append(t),setTimeout(function(){if(1<$(".__lead_modal").length)for(var e=$(".__lead_modal"),o=0;o<e.length;o++)e.eq(o).hasClass(".showLeadModal")||e.eq(o).addClass("showLeadModal");else $(".__lead_modal").length&&$(".__lead_modal").addClass("showLeadModal")},20),$(".__lead_modal_block").length&&$(".__lead_modal_block").on("touchmove",function(e){e.preventDefault()});var a=!0,s=$(".__lead_modal_block"),i=s.eq(s.length-1).find(".__lead_modal_button span");i.off("click"),i.on("click",function(){var e;a&&(a=!1,(e=$(this)).closest(".__lead_modal").removeClass("showLeadModal"),e.index(),setTimeout(function(){e.closest(".__lead_modal_block").remove(),$(".__lead").length||$(".__lead_mask").remove(),a=!0,o&&o("confirm")},250))})},showToast:function(e,o,n){var t=2<arguments.length&&void 0!==n&&n;e=e&&(e.constructor==Array||e.constructor==Object?JSON.stringify(e):this.getLineFeedHtml(e));var a=document.createElement("div");a.className="__lead_toast_block __lead_transparent col items";var s=document.createElement("div");s.className="__lead_toast";var i=document.createElement("span");i.innerHTML=e||"",s.appendChild(i),setTimeout(function(){s.className="__lead_toast __lead_toast_show"},20),a.appendChild(s),t||(a.className="__lead_toast_block __lead_transparent __lead_toast_nopointer col items"),o&&("middle"==o?a.className+=" center":"bottom"==o&&(a.className+=" end")),$("body").append(a),setTimeout(function(){s.className="__lead_toast __lead_toast_hide",a.remove()},2e3)},getLineFeedHtml:function(e){return String(e).replace(/\n/g,"</br>")},getStorageSync:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return""}},setStorageSync:function(e,o){localStorage.setItem(e,JSON.stringify(o))},removeStorageSync:function(e){localStorage.removeItem(e)},clearStorageSync:function(){localStorage.clear()},validate:function(e,o,n){if(!e||!o)return"";var t=/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,a=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi;switch(e){case"mobile":return!!/^1\d{10}$/.test(o);case"email":return!!/^([a-zA-Z]|[0-9]|[._-])(\w|\-|.)+@[a-zA-Z0-9]+\.([a-z.A-Z]{2,99})$/.test(o);case"tram":if(!n)return o.replace(/\s/g,"");if("left"==n.type)return o.replace(/(^\s*)/g,"");if("right"==n.type)return o.replace(/(\s*$)/g,"");if("leftRight"==n.type)return o.replace(/(^\s*)|(\s*$)/g,"");break;case"symbols":var s=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!(!(i=/[`~!@#$%^&*()_+<>?:"{},.\/;œ∑´®†¥¨ˆøπåß∂ƒ©˙∆˚¬…æΩ≈ç√∫˜µ„‰ˇÁ∏’»ÍÎÏ˝ÓÔÒÚ¸˛◊ıÂ¯˘¿≤≥÷¡™£¢∞§¶•ªº–≠«'[\]]/im).test(o)&&!s.test(o));case"zh_ch_num":var i=/[`~!@#$%^&*()_+<>?:"{},.\/;œ∑´®†¥¨ˆøπåß∂ƒ©˙∆˚¬…æΩ≈ç√∫˜µ„‰ˇÁ∏’»ÍÎÏ˝ÓÔÒÚ¸˛◊ıÂ¯˘¿≤≥÷¡™£¢∞§¶•ªº–≠«'[\]]/im,s=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!(!/^[\u0391-\uFFE5A-Za-z0-9]+$/.test(o)||i.test(o)||s.test(o));case"zh_ch":i=/[`~!@#$%^&*()_+<>?:"{},.\/;œ∑´®†¥¨ˆøπåß∂ƒ©˙∆˚¬…æΩ≈ç√∫˜µ„‰ˇÁ∏’»ÍÎÏ˝ÓÔÒÚ¸˛◊ıÂ¯˘¿≤≥÷¡™£¢∞§¶•ªº–≠«'[\]]/im,s=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!(!/^[\u0391-\uFFE5A-Za-z]+$/.test(o)||i.test(o)||s.test(o));case"emoji":return!(!o.match(t)&&!a.test(o));case"input":return o=(o=(o=o.replace(t,"")).replace(a,"")).replace(regRule3Emoji,""),o=unescape(escape(o).replace(/\%uD.{3}/g,"")),o=val.trim();default:h.showModal("暂无此验证规则")}},onReachBottom:function(o,n){(o=o||$(window)).scroll(function(){var e=o.height();o[0].scrollHeight<=o[0].scrollTop+e&&n&&n()})},isIPhoneX:function(){return!("undefined"==typeof window||!window)&&(/iphone/gi.test(window.navigator.userAgent)&&724<=window.screen.height)},getPhoneList:function(){return 414==innerWidth&&808==innerHeight?{scene:["iPhone XR","iPhone XS","iPhone XS Max","iPhone 11"],width:414,height:808}:375==innerWidth&&724==innerHeight?{scene:["iPhone X"],width:414,height:724}:375==innerWidth&&603==innerHeight?{scene:["iPhone 6 Plus","iPhone 7 Plus","iPhone 8 Plus"],width:414,height:672}:375==innerWidth&&603==innerHeight?{scene:["iPhone 6","iPhone 6s","iPhone 7","iPhone 8"],width:414,height:603}:375==innerWidth&&603==innerHeight?{scene:["iPhone 5"],width:414,height:504}:{scene:[],width:innerWidth,height:innerHeight}},getPhoneDirection:function(n,t,e){var o=window.orientation;window.orientation||e&&e(),180!=o&&0!=o||n&&n({name:"竖屏",angle:o}),90!=o&&-90!=o||t&&t({name:"横屏",angle:o}),window.addEventListener("orientationchange",function(e){var o=window.orientation;180!=o&&0!=o||n&&n({name:"竖屏",angle:o}),90!=o&&-90!=o||t&&t({name:"横屏",angle:o})})},iosPhoneBug:function(){setTimeout(function(){var e;client&&"iPhone"==client.os&&(e=document.documentElement.scrollTop||document.body.scrollTop||0,window.scrollTo(0,Math.max(e-1,0)))},150)}};h.init();var n,a=1;function s(e,o){this.el=e,this.isPlay=!0,this.auto=o,this.init()}(n={ua:navigator.userAgent,init:function(){this.OS=this.searchString(this.dataOS)||"an unknown OS",this.BS=this.searchBrowser(this.dataBS),"iPhone"==this.OS||"iPad"==this.OS||"Android"==this.OS||"Winphone"==this.OS?this.mobile=!0:this.mobile=!1},searchString:function(e){for(var o=0;o<e.length;o++){var n=this.ua;if(n&&-1!=n.indexOf(e[o].forSearch))return e[o].forShow}},searchBrowser:function(e){for(var o="",n=0;n<e.length;n++){var t=this.ua;t&&-1!=t.indexOf(e[n].forSearch)&&(o+=e[n].forShow+"|")}return o},dataOS:[{forSearch:"iPhone",forShow:"iPhone"},{forSearch:"iPad",forShow:"iPad"},{forSearch:"Android",forShow:"Android"},{forSearch:"Windows Phone",forShow:"Winphone"}],dataBS:[{forSearch:"360browser",forShow:"360"},{forSearch:"Maxthon",forShow:"Maxthon"},{forSearch:"UCBrowser",forShow:"uc"},{forSearch:"Oupeng",forShow:"opera"},{forSearch:"Opera",forShow:"opera"},{forSearch:"Sogou",forShow:"sogou"},{forSearch:"baidu",forShow:"baidu"},{forSearch:"Safari",forShow:"safari"},{forSearch:"MicroMessenger",forShow:"weixin"},{forSearch:"QQ/",forShow:"qq"},{forSearch:"Weibo",forShow:"weibo"},{forSearch:"MQBrowser",forShow:"360"},{forSearch:"MQQBrowser",forShow:"qqbrowser"},{forSearch:"CriOS",forShow:"Maxthon"}]}).init(),window.client={browser:n.BS,os:n.OS,ifmobile:n.mobile},s.prototype={init:function(){var e,o=this,n={loop:!1,preload:"auto",src:this.el.attr("data-src")};for(e in this._audio=new Audio,n)n.hasOwnProperty(e)&&e in this._audio&&(this._audio[e]=n[e]);this.auto&&this._audio.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),this._audio.load(),this._audio.volume=.9,this.el.on("click",function(){o._play()})},_play:function(){this.isPlay?(this._audio.pause(),this.el.removeClass("on")):(this._audio.play(),this.el.addClass("on")),this.isPlay=!this.isPlay},_getState:function(){return this.isPlay},_playOn:function(){this._audio.play(),this.el.addClass("on"),this.isPlay=!0},_playOff:function(){this._audio.pause(),this.el.removeClass("on"),this.isPlay=!1}},window.Player=s,"iPhone"!=client.os&&"iPad"!=client.os||window.addEventListener("pageshow",function(e){(e.persisted||window.performance&&2==window.performance.navigation.type)&&main&&main.getDetail&&main.getDetail()}),function(){window.showPage=function(e){if(!e)return h.showModal("参数错误，请检查"),!1;var o=$(e);o.css("transition",".5s linear all"),o.css("opacity",0),o.removeClass("hide"),setTimeout(function(){o.css("opacity",1),setTimeout(function(){o.removeAttr("style")},520)},520)};window.hidePage=function(e){var o=$(e);if(e)o.css("transition",".45s linear all"),o.css("opacity",0),setTimeout(function(){o.addClass("hide"),o.removeAttr("style")},500);else for(var n=0;n<$(".page").length;n++)$(".page").eq(n).hasClass("hide")||$(".page").eq(n).addClass("hide")};if(window.scrollPage=function(e){if(!e)return h.showModal("参数错误，请检查"),!1;window._elementWin=e,a=1,function(o,n){$("body");$(window).bind("touchstart",function(e){1==a&&(startX=e.originalEvent.changedTouches[0].pageX,startY=e.originalEvent.changedTouches[0].pageY,$(window).bind("touchmove",function(e){endX=e.originalEvent.changedTouches[0].pageX,endY=e.originalEvent.changedTouches[0].pageY,distanceX=endX-startX,distanceY=endY-startY,Math.abs(distanceX)<Math.abs(distanceY)&&distanceY<0&&a?(a=0,setTimeout(function(){a=1},500),o&&o("向上滑动"),$(window).unbind("touchmove").unbind("touchstart")):Math.abs(distanceX)<Math.abs(distanceY)&&0<distanceY&&a&&(a=0,setTimeout(function(){a=1},4e3),n&&n("向下滑动"))}),$(window).bind("touchend",function(e){$(window).unbind("touchmove")}))})}(function(e){a=0;var o=$(window._elementWin),n=o.next();o.attr("scroll-y")||(n&&n.removeClass("hide"),setTimeout(function(){o.css({transform:"translateY(-100vh)"}),n&&n.css({transform:"translateY(-100vh)"}),setTimeout(function(){o.addClass("hide"),o.removeAttr("style"),o.removeAttr("scroll-y"),n&&n.css({transition:"0s linear all",transform:"translateY(0)"}),setTimeout(function(){n&&n.removeAttr("style")},200)},600)},200))})},window._c=console,window._logNum=0,window.onload=function(){var e=window.performance.timing||{},o=e.domContentLoadedEventEnd-e.navigationStart;console.log("%c PageLoadTime_"+o/100+"s","color: white; \n             letter-spacing: -1px; \n             margin: 5px; \n             background: black; \n             padding: 5px 10px; \n             border-radius: 20px;\n            ")},h.globalData.debug)window._log=console.log;else{function e(){_logNum||(window._logNum=_logNum+1)}window._debug=window.console.warn,window._log=e;try{console.log=e,console.warn=e,console.error=e,console.info=e,console.debug=e}catch(e){}}}();